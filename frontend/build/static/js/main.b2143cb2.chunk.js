(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{41:function(e,t,a){e.exports=a(82)},50:function(e,t,a){},51:function(e,t,a){},70:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(16),c=a.n(l),i=a(1),o=a(19),u=(a(50),a(4)),s=a(8),d=(a(51),a(2)),m=a(3),p=a.n(m),E=a(7),v=a(6),f=a.n(v),_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var a=Object(E.a)(p.a.mark((function a(n){var r,l;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"PRODUCT_LIST_REQUEST"}),a.next=4,f.a.get("http://127.0.0.1:5001/api/products?searchKeyword="+e+"&sortOrder="+t);case 4:r=a.sent,l=r.data,e.length>1?n({type:"PRODUCT_LIST_SUCCESS",payload:l,List:"SearchPage List"}):n({type:"PRODUCT_LIST_SUCCESS",payload:l,List:"HomePage List"}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n({type:"PRODUCT_LIST_FAIL",payload:a.t0.message});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()};a(70);var h=function(e){var t=e.location.search.split("q=")[e.location.search.split("q=").length-1]||" ",a=Object(n.useState)(""),l=Object(d.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)(""),m=Object(d.a)(s,2),p=m[0],E=m[1],v=e.match.params.id?e.match.params.id:"",f=Object(i.c)((function(e){return e.productList})),h=f.products,g=f.loading,y=f.error,S=f.data,b=Object(i.b)();Object(n.useEffect)((function(){return o(t),b(_(t,v)),function(){}}),[t,v]);var O=function(e){window.dataLayer.push({event:"select_item",ecommerce:{items:[{item_name:e.name,item_id:e._id,item_brand:e.brand,item_category:e.category,item_variant:e.description,item_list_name:S,item_list_id:1,index:h.indexOf(e)+1,price:e.price}]}}),window.dataLayer.push({event:"productClick",ecommerce:{click:{actionField:{list:S},products:[{name:e.name,id:e._id,price:e.price,brand:e.brand,category:e.category,variant:e.description,position:h.indexOf(e)+1}]}}})};return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"filter"},r.a.createElement("li",null,"Sort products:"," ",r.a.createElement("select",{name:"sortOrder",value:p,onChange:function(e){E(e.target.value),b(_(c,p))}},r.a.createElement("option",{value:"Newest"},"Latest products"),r.a.createElement("option",{value:"lowest",default:!0},"Lowest Price"),r.a.createElement("option",{value:"highest"},"Highest Price")))),g?r.a.createElement("div",null,"Loading Products..."):y?r.a.createElement("div",null,y):r.a.createElement("ul",{className:"products"},h.map((function(e){return r.a.createElement("li",{key:e._id},r.a.createElement("div",{className:"product"},r.a.createElement(u.b,{to:"/product/"+e._id,onClick:function(){O(e)}},r.a.createElement("div",{className:"product_image_div"},r.a.createElement("img",{className:"product-image",src:e.image,alt:"product"}))),r.a.createElement("div",{className:"product_name_in_card"},r.a.createElement(u.b,{to:"/product/"+e._id,onClick:function(){O(e)}},e.name)),r.a.createElement("div",{className:"product-brand"}," from ",e.brand),r.a.createElement("div",{className:"product-price"},"$",e.price)))}))))},g=a(18);function y(e){var t=e.rating,a=e.numReviews,n=e.caption;return r.a.createElement("div",{className:"rating"},r.a.createElement("span",null,r.a.createElement("i",{className:t>=1?"fa fa-star":t>=.5?"fa fa-star-half-o":"fa fa-star-o"})),r.a.createElement("span",null,r.a.createElement("i",{className:t>=2?"fa fa-star":t>=1.5?"fa fa-star-half-o":"fa fa-star-o"})),r.a.createElement("span",null,r.a.createElement("i",{className:t>=3?"fa fa-star":t>=2.5?"fa fa-star-half-o":"fa fa-star-o"})),r.a.createElement("span",null,r.a.createElement("i",{className:t>=4?"fa fa-star":t>=3.5?"fa fa-star-half-o":"fa fa-star-o"})),r.a.createElement("span",null,r.a.createElement("i",{className:t>=5?"fa fa-star":t>=4.5?"fa fa-star-half-o":"fa fa-star-o"})),n?r.a.createElement("span",null,n):r.a.createElement("span",null,a+" reviews"))}a(72);var S=function(e){var t=Object(n.useState)(1),a=Object(d.a)(t,2),l=a[0],c=a[1],o=Object(i.c)((function(e){return e.userSignin})),s=Object(i.c)((function(e){return e.productList})),m=Object(n.useState)(s.data?s.data:"NA"),v=Object(d.a)(m,2),_=v[0],h=(v[1],o.userInfo,Object(i.c)((function(e){return e.productDetails}))),S=h.product,b=h.loading,O=h.error,R=Object(i.b)();return Object(n.useEffect)((function(){return R(function(e,t){return function(){var a=Object(E.a)(p.a.mark((function a(n){var r,l;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"PRODUCT_DETAILS_REQUEST",payload:e}),a.next=4,f.a.get("http://127.0.0.1:5001/api/products/"+e);case 4:r=a.sent,l=r.data,window.dataLayer.push({event:"productView",ecommerce:{detail:{actionField:{list:t},products:[{name:l.name,id:l._id,price:l.price,brand:l.brand,category:l.category,variant:l.description}]}}}),window.dataLayer.push({event:"view_item",ecommerce:{items:[{item_name:l.name,item_id:l._id,price:l.price,item_brand:l.brand,item_category:l.category,item_variant:l.description,item_list_name:t,item_list_id:"1",index:1,quantity:1}]}}),n({type:"PRODUCT_DETAILS_SUCCESS",payload:l}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n({type:"PRODUCT_DETAILS_FAIL",payload:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(e.match.params.id,_)),function(){}}),[]),r.a.createElement("div",null,r.a.createElement("div",{className:"back-to-result"},r.a.createElement(u.b,{to:"/"},r.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"}),r.a.createElement("span",{class:"material-symbols-outlined"},"arrow_back"))),b?r.a.createElement("div",null,"Loading..."):O?r.a.createElement("div",null,O," "):r.a.createElement(r.a.Fragment,null," ",void 0,r.a.createElement("div",{className:"details"},r.a.createElement("div",{className:"details-image"},r.a.createElement("img",{src:S.image,alt:"product"})),r.a.createElement("div",{className:"details-info"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("div",{className:"product_name_in_view_page"},S.name)),r.a.createElement("li",null,r.a.createElement("a",{href:"#reviews"},r.a.createElement(y,{rating:S.rating,numReviews:S.numReviews}))),r.a.createElement("li",{className:"price_in_details_page"},"Price: $",S.price),r.a.createElement("li",null,"Product description:",r.a.createElement("div",{className:"product_description_in_details"},S.description)))),r.a.createElement("div",{className:"details-action"},r.a.createElement("ul",null,r.a.createElement("li",null,"Price: $",S.price),r.a.createElement("li",null,"Status:"," ",S.countInStock>0?"In Stock":"Unavailable."),r.a.createElement("li",null,"Qty:"," ",r.a.createElement("select",{value:l,onChange:function(e){c(e.target.value)}},Object(g.a)(Array(5).keys()).map((function(e){return r.a.createElement("option",{key:e+1,value:e+1},e+1)})))),r.a.createElement("li",null,r.a.createElement("button",{onClick:function(){window.dataLayer.push({event:"addToCart",ecommerce:{currencyCode:"EUR",add:{actionField:{list:_},products:[{name:S.name,id:S.id,price:S.price,brand:S.brand,category:S.category,variant:S.description,quantity:l}]}}}),e.history.push("/cart/"+e.match.params.id+"?qty="+l)},className:"button primary"},"Add to Cart")))))))},b=function(e,t){return function(){var a=Object(E.a)(p.a.mark((function a(n,r){var l,c,i;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f.a.get("http://127.0.0.1:5001/api/products/"+e);case 3:l=a.sent,c=l.data,n({type:"CART_ADD_ITEM",payload:{_id:c._id,product:c._id,name:c.name,image:c.image,price:c.price,brand:c.brand,category:c.category,description:c.description,qty:t}}),i=r(),i.cart.cartItems,a.next=11;break;case 9:a.prev=9,a.t0=a.catch(0);case 11:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e,t){return a.apply(this,arguments)}}()},O=function(e){return function(t,a){var n=a().cart.cartItems.filter((function(t){return t.product===e}));window.dataLayer.push({event:"removeFromCart",ecommerce:{remove:{products:[{id:n[0]._id,name:n[0].name,price:n[0].price,brand:n[0].brand,category:n[0].category,variant:n[0].description,quantity:n[0].qty}]}}}),t({type:"CART_REMOVE_ITEM",payload:e})}};a(73);var R=function(e){var t=Object(i.c)((function(e){return e.cart})).cartItems,a=e.match.params.id,l=e.location.search?Number(e.location.search.split("=")[1]):1,c=Object(i.b)();return Object(n.useEffect)((function(){a&&c(b(a,l))}),[]),r.a.createElement("div",{className:"cart_outer_div"},r.a.createElement("div",{className:"cart-list"},r.a.createElement("ul",{className:"cart-list-container"},r.a.createElement("li",null,r.a.createElement("h3",null,"Your Cart"),r.a.createElement("div",null," Unit Price")),0===t.length?r.a.createElement("div",null,"Your Cart is empty"):t.map((function(e){return r.a.createElement("li",null,r.a.createElement(u.b,{to:"/product/"+e.product},r.a.createElement("div",{className:"cart-image"},r.a.createElement("img",{src:e.image,alt:"product"}))),r.a.createElement("div",{className:"cart-name"},r.a.createElement("div",null,r.a.createElement(u.b,{className:"product_name_in_cart",to:"/product/"+e.product},e.name)),r.a.createElement("div",{className:"qty_and_delete_div"},r.a.createElement("div",{className:"quantity_title"},"Qty:"),r.a.createElement("select",{value:e.qty,onChange:function(t){return c(b(e.product,t.target.value))}},Object(g.a)(Array(5).keys()).map((function(e){return r.a.createElement("option",{key:e+1,value:e+1},e+1)}))),r.a.createElement("button",{type:"button",className:"delete_button",onClick:function(){return function(e){c(O(e))}(e.product)}},"Delete"))),r.a.createElement("div",{className:"cart-price"},"$",e.price))})))),r.a.createElement("div",{className:"cart-action"},r.a.createElement("div",{className:"total_and_tax_in_cart"},r.a.createElement("h3",null,"Subtotal ( ",t.reduce((function(e,t){return e+t.qty}),0)," items) : $"," ",t.reduce((function(e,t){return e+t.price*t.qty}),0)),r.a.createElement("span",{className:"tax_info_in_cart"},"Taxes will be added at next step.")),r.a.createElement("div",{className:"checkout_btn_div"},r.a.createElement("button",{onClick:function(){e.history.push("/signin?redirect=shipping")},className:"checkout_btn_in_cart",disabled:0===t.length},"Proceed to Checkout"))))},C=a(14),I=a.n(C),N=function(){return function(e){I.a.remove("userInfo"),e({type:"USER_LOGOUT"}),document.location.href="/signin"}};function T(e){return console.log(e),r.a.createElement("div",{className:"alert alert-".concat(e.variant||"info")},e.children)}function U(){return r.a.createElement("div",{className:"loading"},r.a.createElement("i",{className:"fa fa-spinner fa-spin"})," Loading...")}var D=function(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(""),s=Object(d.a)(o,2),m=s[0],v=s[1],_=Object(i.c)((function(e){return e.userSignin})),h=_.loading,g=_.userInfo,y=_.error,S=Object(i.b)(),b=e.location.search?e.location.search.split("=")[1]:"/";return Object(n.useEffect)((function(){return g&&e.history.push(b),function(){}}),[g]),r.a.createElement("div",null,r.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault(),S(function(e,t){return function(){var a=Object(E.a)(p.a.mark((function a(n){var r,l;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"USER_SIGNIN_REQUEST",payload:{email:e,password:t}}),a.prev=1,a.next=4,f.a.post("http://127.0.0.1:5001/api/users/signin",{email:e,password:t});case 4:r=a.sent,l=r.data,n({type:"USER_SIGNIN_SUCCESS",payload:l}),I.a.set("userInfo",JSON.stringify(l)),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),n({type:"USER_SIGNIN_FAIL",payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 13:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()}(l,m))}},r.a.createElement("div",null,r.a.createElement("h1",{className:"create_account_and_sign_in_title"},"Sign In")),h&&r.a.createElement(U,null),y&&r.a.createElement(T,{variant:"danger"},y),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"email"},"Email address"),r.a.createElement("input",{type:"email",id:"email",placeholder:"Enter email",required:!0,onChange:function(e){return c(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",placeholder:"Enter password",required:!0,onChange:function(e){return v(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("label",null),r.a.createElement("button",{className:"primary",type:"submit"},"Sign In")),r.a.createElement("div",null,r.a.createElement("label",null),r.a.createElement("div",null,"New to CrediBuy?"," ",r.a.createElement(u.b,{className:"signup_and_signin_link",to:"/register?redirect=".concat(b)},"Create your account")))))};a(74);var A=function(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(""),s=Object(d.a)(o,2),m=s[0],v=s[1],_=Object(n.useState)(""),h=Object(d.a)(_,2),g=h[0],y=h[1],S=Object(n.useState)(""),b=Object(d.a)(S,2),O=b[0],R=b[1],C=Object(i.c)((function(e){return e.userRegister})),N=C.loading,D=C.userInfo,A=C.error,j=Object(i.b)(),L=e.location.search?e.location.search.split("=")[1]:"/";return Object(n.useEffect)((function(){D&&e.history.push(L)}),[D,e.history,L]),r.a.createElement("div",null,r.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault(),g!==O?alert("Password and confirm password are not match"):j(function(e,t,a){return function(){var n=Object(E.a)(p.a.mark((function n(r){var l,c;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:"USER_REGISTER_REQUEST",payload:{name:e,email:t,password:a}}),n.prev=1,n.next=4,f.a.post("http://127.0.0.1:5001/api/users/register",{name:e,email:t,password:a});case 4:l=n.sent,c=l.data,I.a.set("userInfo",JSON.stringify(c)),r({type:"USER_REGISTER_SUCCESS",payload:c}),r({type:"USER_SIGNIN_SUCCESS",payload:c}),localStorage.setItem("userInfo",JSON.stringify(c)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),r({type:"USER_REGISTER_FAIL",payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[1,12]])})));return function(e){return n.apply(this,arguments)}}()}(l,m,g))}},r.a.createElement("div",null,r.a.createElement("h2",{className:"create_account_and_sign_in_title"},"Create Account")),r.a.createElement("div",null,N&&r.a.createElement(U,null),A&&r.a.createElement(T,{variant:"danger"},A)),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{type:"name",name:"name",id:"name",required:!0,onChange:function(e){return c(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",name:"email",id:"email",required:!0,onChange:function(e){return v(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",name:"password",required:!0,onChange:function(e){return y(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"rePassword"},"Re-Enter Password"),r.a.createElement("input",{type:"password",id:"rePassword",name:"rePassword",required:!0,onChange:function(e){return R(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:"button primary"},"Register")),r.a.createElement("div",null,r.a.createElement("div",null,"Already have an account?"," ",r.a.createElement(u.b,{className:"signup_and_signin_link",to:"/signin?redirect=".concat(L)},"Sign-In here")))))};a(75);var j=function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(""),u=Object(d.a)(o,2),s=u[0],m=u[1],v=Object(n.useState)(""),h=Object(d.a)(v,2),g=h[0],y=h[1],S=Object(n.useState)(""),b=Object(d.a)(S,2),O=b[0],R=b[1],C=Object(n.useState)(""),I=Object(d.a)(C,2),N=I[0],T=I[1],U=Object(n.useState)(""),D=Object(d.a)(U,2),A=D[0],j=D[1],L=Object(n.useState)(""),w=Object(d.a)(L,2),P=w[0],k=w[1],x=Object(n.useState)(""),F=Object(d.a)(x,2),q=F[0],Q=F[1],M=Object(n.useState)(""),V=Object(d.a)(M,2),B=V[0],G=V[1],Y=Object(n.useState)(!1),$=Object(d.a)(Y,2),z=$[0],H=$[1],J=Object(i.c)((function(e){return e.productList})).products,W=Object(i.c)((function(e){return e.productSave})),K=W.loading,X=W.success,Z=W.error,ee=Object(i.c)((function(e){return e.productDelete})).success,te=Object(i.b)();Object(n.useEffect)((function(){return X&&c(!1),te(_()),function(){}}),[X,ee]);var ae=function(e){c(!0),m(e._id),y(e.name),R(e.price),G(e.description),T(e.image),j(e.brand),k(e.category),Q(e.countInStock)},ne=function(e){var t;te((t=e._id,function(){var e=Object(E.a)(p.a.mark((function e(a,n){var r,l,c,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n(),l=r.userSignin.userInfo,a({type:"PRODUCT_DELETE_REQUEST",payload:t}),e.next=5,f.a.delete("http://127.0.0.1:5001/api/products/"+t,{headers:{Authorization:"Bearer "+l.token}});case 5:c=e.sent,i=c.data,a({type:"PRODUCT_DELETE_SUCCESS",payload:i,success:!0}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:"PRODUCT_DELETE_FAIL",payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}()))};return r.a.createElement("div",{className:"content content-margined"},r.a.createElement("div",{className:"product-header"},r.a.createElement("h1",{className:"title_for_product_listing"},"All Listed Products"),r.a.createElement("button",{className:"button primary",onClick:function(){return ae({})}},"Add New Product")),l&&r.a.createElement("div",{className:"update_product_form"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t,a=new FormData;a.append("_id",s),a.append("name",g),a.append("price",O),a.append("productImage",N),a.append("brand",A),a.append("category",P),a.append("countInStock",q),a.append("description",B),te((t=a,function(){var e=Object(E.a)(p.a.mark((function e(a,n){var r,l,c,i,o,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a({type:"PRODUCT_SAVE_REQUEST",payload:t}),r=n(),l=r.userSignin.userInfo,t._id){e.next=11;break}return e.next=6,f.a.post("http://127.0.0.1:5001/api/products",t,{headers:{Authorization:"Bearer "+l.token,"Content-Type":"multipart/form-data"}});case 6:c=e.sent,i=c.data,a({type:"PRODUCT_SAVE_SUCCESS",payload:i}),e.next=16;break;case 11:return e.next=13,f.a.put("http://127.0.0.1:5001/api/products/"+t._id,t,{headers:{Authorization:"Bearer "+l.token,"Content-Type":"multipart/form-data"}});case 13:o=e.sent,u=o.data,a({type:"PRODUCT_SAVE_SUCCESS",payload:u});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),a({type:"PRODUCT_SAVE_FAIL",payload:e.t0.message});case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,a){return e.apply(this,arguments)}}()))}},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h2",{className:"update_product_title"}," ",s?"Update":"Create"," Product")),r.a.createElement("div",null,K&&r.a.createElement("div",null,"Loading..."),Z&&r.a.createElement("div",null,Z)),r.a.createElement("div",{className:"individual_div_in_update_product"},r.a.createElement("label",{htmlFor:"name",className:"field_label_in_form"},"Name"),r.a.createElement("input",{type:"text",name:"name",value:g,id:"name",required:!0,onChange:function(e){return y(e.target.value)}})),r.a.createElement("div",{className:"individual_div_in_update_product"},r.a.createElement("label",{htmlFor:"price",className:"field_label_in_form"},"Price"),r.a.createElement("input",{type:"number",min:"1",name:"price",value:O,id:"price",required:!0,onChange:function(e){return R(e.target.value)}})),r.a.createElement("div",{className:"individual_div_in_update_product"},r.a.createElement("label",{htmlFor:"image",className:"field_label_in_form"},"Image"),r.a.createElement("input",{type:"file",name:"productImage",id:"productImage",required:!0,accept:"image/png, image/gif, image/jpeg",onChange:function(e){H(!0),T(e.target.files[0]),H(!1)}}),z&&r.a.createElement("div",null,"Uploading...")),r.a.createElement("div",{className:"individual_div_in_update_product"},r.a.createElement("label",{htmlFor:"brand",className:"field_label_in_form"},"Brand"),r.a.createElement("input",{type:"text",name:"brand",value:A,id:"brand",required:!0,onChange:function(e){return j(e.target.value)}})),r.a.createElement("div",{className:"individual_div_in_update_product"},r.a.createElement("label",{htmlFor:"countInStock",className:"field_label_in_form"},"Available Stock"),r.a.createElement("input",{type:"text",name:"countInStock",value:q,id:"countInStock",required:!0,onChange:function(e){return Q(e.target.value)}})),r.a.createElement("div",{className:"individual_div_in_update_product"},r.a.createElement("label",{htmlFor:"name",className:"field_label_in_form"},"Category"),r.a.createElement("input",{type:"text",name:"category",value:P,id:"category",required:!0,onChange:function(e){return k(e.target.value)}})),r.a.createElement("div",{className:"individual_div_in_update_product"},r.a.createElement("label",{htmlFor:"description",className:"field_label_in_form"},"Description"),r.a.createElement("textarea",{name:"description",value:B,id:"description",rows:"10",onChange:function(e){return G(e.target.value)}})),r.a.createElement("div",{className:"individual_div_in_update_product"},r.a.createElement("div",{className:"update_and_back_btn_div"},r.a.createElement("button",{type:"submit",className:"button primary"},s?"Update":"Create"),r.a.createElement("button",{type:"button",onClick:function(){c(!1)},className:"button primary"},"Back")))))),r.a.createElement("div",{className:"product-list"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Price($)"),r.a.createElement("th",null,"Category"),r.a.createElement("th",null,"Brand"),r.a.createElement("th",{className:"Action_btn_in_table"},"Action"))),r.a.createElement("tbody",null,J.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.price),r.a.createElement("td",null,e.category),r.a.createElement("td",null,e.brand),r.a.createElement("td",null,r.a.createElement("button",{className:"button",onClick:function(){return ae(e)}},"Edit")," ",r.a.createElement("button",{className:"button",onClick:function(){return ne(e)}},"Delete")))}))))))};a(76);var L=function(e){return r.a.createElement("div",{className:"checkout-steps"},r.a.createElement("div",{className:e.step1?"active":""},"Signin"),r.a.createElement("div",{className:e.step2?"active":""},"Shipping"),r.a.createElement("div",{className:e.step3?"active":""},"Payment"),r.a.createElement("div",{className:e.step4?"active":""},"Place Order"))};var w=function(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(""),u=Object(d.a)(o,2),s=u[0],m=u[1],p=Object(n.useState)(""),E=Object(d.a)(p,2),v=E[0],f=E[1],_=Object(n.useState)(""),h=Object(d.a)(_,2),g=h[0],y=h[1],S=Object(i.c)((function(e){return e.cart})).cartItems,b=Object(i.b)();return r.a.createElement("div",null,r.a.createElement(L,{step1:!0,step2:!0}),r.a.createElement("form",{className:"form",onSubmit:function(t){var a,n=[];S.map((function(e){return n.push({name:e.name,id:e._id,price:e.price,brand:e.name,category:e.category,variant:e.description,quantity:e.qty})})),window.dataLayer.push({event:"checkout",ecommerce:{checkout:{actionField:{step:1,option:"shipping"},products:n}}}),t.preventDefault(),b((a={address:l,city:s,postalCode:v,country:g},function(e){e({type:"CART_SAVE_SHIPPING",payload:a})})),e.history.push("payment")}},r.a.createElement("div",null,r.a.createElement("h1",null," Enter Shipping Address")),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"address"},"Address"),r.a.createElement("input",{type:"text",id:"address",placeholder:"Enter address",value:l,onChange:function(e){return c(e.target.value)},required:!0})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"city"},"City"),r.a.createElement("input",{type:"text",id:"city",placeholder:"Enter city",value:s,onChange:function(e){return m(e.target.value)},required:!0})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"postalCode"},"Postal Code"),r.a.createElement("input",{type:"text",id:"postalCode",placeholder:"Enter postal code",value:v,onChange:function(e){return f(e.target.value)},required:!0})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"country"},"Country"),r.a.createElement("input",{type:"text",id:"country",placeholder:"Enter country",value:g,onChange:function(e){return y(e.target.value)},required:!0})),r.a.createElement("div",null,r.a.createElement("label",null),r.a.createElement("button",{className:"primary",type:"submit"},"Continue"))))};a(77);var P=function(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),l=a[0],c=a[1],o=Object(i.b)();return r.a.createElement("div",null,r.a.createElement(L,{step1:!0,step2:!0,step3:!0}),r.a.createElement("div",null,r.a.createElement("form",{className:"form",onSubmit:function(t){var a;t.preventDefault(),o((a={paymentMethod:l},function(e){e({type:"CART_SAVE_PAYMENT",payload:a})})),e.history.push("placeorder")}},r.a.createElement("div",null,r.a.createElement("h1",null,"Payment Method")),r.a.createElement("div",{className:"payment_options_radio"},r.a.createElement("div",null,r.a.createElement("input",{type:"radio",id:"COD",value:"COD",name:"paymentMethod",onChange:function(e){return c(e.target.value)}}),r.a.createElement("label",{htmlFor:"COD"},"Cash On Delivery"))),r.a.createElement("div",null,r.a.createElement("label",null),r.a.createElement("button",{className:"Button primary",type:"submit"},"Continue")))))},k=function(e){return function(){var t=Object(E.a)(p.a.mark((function t(a,n){var r,l,c,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ORDER_DELETE_REQUEST",payload:e}),r=n(),l=r.userSignin.userInfo,t.next=5,f.a.delete("http://127.0.0.1:5001/api/orders/"+e,{headers:{Authorization:"Bearer "+l.token}});case 5:c=t.sent,i=c.data,a({type:"ORDER_DELETE_SUCCESS",payload:i}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:"ORDER_DELETE_FAIL",payload:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}()};a(78);var x=function(e){var t=Object(i.c)((function(e){return e.cart})),a=Object(i.c)((function(e){return e.userSignin.userInfo})),l=Object(i.c)((function(e){return e.orderCreate})),c=l.loading,s=l.success,d=l.error,m=l.order,v=t.cartItems,_=t.shipping,h=t.payment;_.address?h.paymentMethod||e.history.push("/payment"):e.history.push("/shipping");var g=v.reduce((function(e,t){return e+t.price*t.qty}),0),y=g>100?0:10,S=.15*g,b=g+y+S,R=Object(i.b)();return Object(n.useEffect)((function(){s&&e.history.push("/order/"+m._id)}),[s]),r.a.createElement("div",null,r.a.createElement(L,{step1:!0,step2:!0,step3:!0,step4:!0}),r.a.createElement("div",{className:"placeorder"},r.a.createElement("div",{className:"placeorder-info"},r.a.createElement("div",null,r.a.createElement("h3",null,"Shipping"),r.a.createElement("div",null,t.shipping.address,", ",t.shipping.city,",",t.shipping.postalCode,", ",t.shipping.country,",")),r.a.createElement("div",null,r.a.createElement("h3",null,"Payment"),r.a.createElement("div",null,"Payment Method: ",t.payment.paymentMethod)),r.a.createElement("div",null,r.a.createElement("ul",{className:"cart-list-container"},r.a.createElement("li",null,r.a.createElement("h3",null,"Shopping Cart"),r.a.createElement("div",null,"Price")),0===v.length?r.a.createElement("div",null,"Cart is empty"):v.map((function(e){return r.a.createElement("li",null,r.a.createElement("div",{className:"cart-image"},r.a.createElement("img",{src:e.image,alt:"product"})),r.a.createElement("div",{className:"cart-name"},r.a.createElement("div",null,r.a.createElement(u.b,{to:"/product/"+e.product},e.name)),r.a.createElement("div",null,"Qty: ",e.qty)),r.a.createElement("div",{className:"cart-price"},"$",e.price))}))))),r.a.createElement("div",{className:"placeorder-action"},c?r.a.createElement("div",null,"Loading..."):d?r.a.createElement("div",null,d):r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("button",{className:"button primary full-width",onClick:function(){R(function(e){return function(){var t=Object(E.a)(p.a.mark((function t(a,n){var r,l,c,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ORDER_CREATE_REQUEST",payload:e}),r=n(),l=r.userSignin.userInfo,t.next=5,f.a.post("http://127.0.0.1:5001/api/orders",e,{headers:{Authorization:" Bearer "+l.token}});case 5:c=t.sent,i=c.data.data,a({type:"ORDER_CREATE_SUCCESS",payload:i}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:"ORDER_CREATE_FAIL",payload:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}()}({orderItems:v,shipping:_,payment:h,itemsPrice:g,shippingPrice:y,taxPrice:S,totalPrice:b,userName:a.name,userEmail:a.email})),v.map((function(e){return R(O(e.product))})),o.b.success("Your order has been placed successfully!!",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),e.history.push("/search")}},"Place Order")),r.a.createElement("li",null,r.a.createElement("h3",null,"Order Summary")),r.a.createElement("li",null,r.a.createElement("div",null,"Items"),r.a.createElement("div",null,"$",g)),r.a.createElement("li",null,r.a.createElement("div",null,"Shipping"),r.a.createElement("div",null,"$",y)),r.a.createElement("li",null,r.a.createElement("div",null,"Tax"),r.a.createElement("div",null,"$",S)),r.a.createElement("li",null,r.a.createElement("div",null,"Order Total"),r.a.createElement("div",null,"$",b))))))};var F=function(e){var t=Object(i.c)((function(e){return e.orderPay})),a=Object(n.useState)(!1),l=Object(d.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)(""),m=Object(d.a)(s,2),v=(m[0],m[1]);Object(n.useEffect)((function(){return c||f.a.get("/api/config/paypal").then((function(e){o(!0),v(e.data)})),function(){}}),[c]),t.loading;var _=t.success,h=(t.error,Object(i.b)());Object(n.useEffect)((function(){var t;return _?e.history.push("/profile"):h((t=e.match.params.id,function(){var e=Object(E.a)(p.a.mark((function e(a,n){var r,l,c,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"ORDER_DETAILS_REQUEST",payload:t}),r=n(),l=r.userSignin.userInfo,e.next=5,f.a.get("http://127.0.0.1:5001/api/orders/"+t,{headers:{Authorization:"Bearer "+l.token}});case 5:c=e.sent,i=c.data,a({type:"ORDER_DETAILS_SUCCESS",payload:i}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:"ORDER_DETAILS_FAIL",payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}())),function(){}}),[_]);var g=Object(i.c)((function(e){return e.orderDetails})),y=(Object(i.c)((function(e){return e.userSignin})).userInfo,g.loading),S=g.order,b=g.error;return y?r.a.createElement("div",null,"loading......."):b?r.a.createElement("div",null,b):r.a.createElement("div",null,r.a.createElement("div",{className:"placeorder"},r.a.createElement("div",{className:"placeorder-info"},r.a.createElement("div",null,r.a.createElement("h3",null,"User Details"),r.a.createElement("div",null,"Name: ",S.userName),r.a.createElement("div",null,"Email: ",S.userEmail)),r.a.createElement("div",null,r.a.createElement("h3",null,"Shipping"),r.a.createElement("div",null,S.shipping.address,", ",S.shipping.city,",",S.shipping.postalCode,", ",S.shipping.country,","),r.a.createElement("div",null,S.isDelivered?"Delivered at "+S.deliveredAt:"Not Delivered.")),r.a.createElement("div",null,r.a.createElement("h3",null,"Payment"),r.a.createElement("div",null,"Payment Method: ",S.payment.paymentMethod),r.a.createElement("div",null,S.isPaid?"Paid at "+S.paidAt:"Not Paid.")),r.a.createElement("div",null,r.a.createElement("ul",{className:"cart-list-container"},r.a.createElement("li",null,r.a.createElement("h3",null,"Shopping Cart"),r.a.createElement("div",null,"Price")),0===S.orderItems.length?r.a.createElement("div",null,"Cart is empty"):S.orderItems.map((function(e){return r.a.createElement("li",{key:e._id},r.a.createElement("div",{className:"cart-image"},r.a.createElement("img",{src:e.image,alt:"product"})),r.a.createElement("div",{className:"cart-name"},r.a.createElement("div",null,r.a.createElement(u.b,{to:"/product/"+e.product},e.name)),r.a.createElement("div",null,"Qty: ",e.qty)),r.a.createElement("div",{className:"cart-price"},"$",e.price))}))))),r.a.createElement("div",{className:"placeorder-action"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("h3",null,"Order Summary")),r.a.createElement("li",null,r.a.createElement("div",null,"Items"),r.a.createElement("div",null,"$",S.itemsPrice)),r.a.createElement("li",null,r.a.createElement("div",null,"Shipping"),r.a.createElement("div",null,"$",S.shippingPrice)),r.a.createElement("li",null,r.a.createElement("div",null,"Tax"),r.a.createElement("div",null,"$",S.taxPrice)),r.a.createElement("li",null,r.a.createElement("div",null,"Order Total"),r.a.createElement("div",null,"$",S.totalPrice))))))};a(79);var q=function(e){var t=Object(i.c)((function(e){return e.orderList})),a=t.loading,l=t.orders,c=(t.error,Object(i.c)((function(e){return e.orderDelete}))),o=(c.loading,c.success),s=(c.error,Object(i.b)());return Object(n.useEffect)((function(){return s(function(){var e=Object(E.a)(p.a.mark((function e(t,a){var n,r,l,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ORDER_LIST_REQUEST"}),n=a(),r=n.userSignin.userInfo,e.next=5,f.a.get("http://127.0.0.1:5001/api/orders",{headers:{Authorization:"Bearer "+r.token}});case 5:l=e.sent,c=l.data,t({type:"ORDER_LIST_SUCCESS",payload:c}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:"ORDER_LIST_FAIL",payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}()),function(){}}),[o]),a?r.a.createElement("div",null,"Loading..."):r.a.createElement("div",{className:"content content-margined"},r.a.createElement("div",{className:"order-header"},r.a.createElement("h3",null,"Orders")),r.a.createElement("div",{className:"order-list"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"DATE"),r.a.createElement("th",null,"TOTAL"),r.a.createElement("th",null,"PAID"),r.a.createElement("th",null,"PAID AT"),r.a.createElement("th",null,"DELIVERED"),r.a.createElement("th",null,"DELIVERED AT"),r.a.createElement("th",null,"ACTIONS"))),r.a.createElement("tbody",null,l.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.createdAt),r.a.createElement("td",null,e.totalPrice),r.a.createElement("td",null,e.isPaid.toString()),r.a.createElement("td",null,e.paidAt),r.a.createElement("td",null,e.isDelivered.toString()),r.a.createElement("td",null,e.deliveredAt),r.a.createElement("td",null,r.a.createElement(u.b,{to:"/order/"+e._id},r.a.createElement("button",{type:"button",className:"button_in_order_page"},"Details"))," ",r.a.createElement("button",{type:"button",onClick:function(){return function(e){s(k(e._id))}(e)},className:"button_in_order_page"},"Reject Order")))}))))))};a(80);var Q=function(e){var t=Object(i.c)((function(e){return e.userSignin})).userInfo,a=Object(n.useState)(""),l=Object(d.a)(a,2),c=l[0],o=l[1],u=Object(n.useState)(""),s=Object(d.a)(u,2),m=s[0],v=s[1],_=Object(n.useState)(""),h=Object(d.a)(_,2),g=h[0],y=h[1],S=Object(n.useState)(""),b=Object(d.a)(S,2),O=b[0],R=b[1],C=Object(i.b)(),I=Object(i.c)((function(e){return e.userDetails})),N=I.loading,D=I.error,A=I.user,j=Object(i.c)((function(e){return e.userUpdateProfile})),L=j.success,w=j.error,P=j.loading;return Object(n.useEffect)((function(){var e;A?(o(A.name),v(A.email)):(C({type:"USER_UPDATE_PROFILE_RESET"}),C((e=t._id,function(){var t=Object(E.a)(p.a.mark((function t(a,n){var r,l,c,i,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"USER_DETAILS_REQUEST",payload:e}),r=n(),l=r.userSignin.userInfo,t.prev=2,t.next=5,f.a.get("http://127.0.0.1:5001/api/users/".concat(e),{headers:{Authorization:"Bearer ".concat(null===l||void 0===l?void 0:l.token)}});case 5:c=t.sent,i=c.data,a({type:"USER_DETAILS_SUCCESS",payload:i}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),o=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,a({type:"USER_DETAILS_FAIL",payload:o});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,a){return t.apply(this,arguments)}}())))}),[C,t._id,A]),r.a.createElement("div",null,r.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault(),g!==O?alert("Password and Confirm Password Are Not Matched"):C(function(e){return function(){var t=Object(E.a)(p.a.mark((function t(a,n){var r,l,c,i,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"USER_UPDATE_PROFILE_REQUEST",payload:e}),r=n(),l=r.userSignin.userInfo,t.prev=2,t.next=5,f.a.put("http://127.0.0.1:5001/api/users/profile/:id",e,{headers:{Authorization:"Bearer ".concat(l.token)}});case 5:c=t.sent,i=c.data,a({type:"USER_UPDATE_PROFILE_SUCCESS",payload:i}),a({type:"USER_SIGNIN_SUCCESS",payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),o=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,a({type:"USER_UPDATE_PROFILE_FAIL",payload:o});case 16:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e,a){return t.apply(this,arguments)}}()}({name:c,email:m,password:g}))}},r.a.createElement("div",null,r.a.createElement("h1",{className:"title_in_profile_management_screen"},"Profile Management")),N?r.a.createElement(U,null):D?r.a.createElement(T,{variant:"danger"},D):r.a.createElement(r.a.Fragment,null,P&&r.a.createElement(U,null),w&&r.a.createElement(T,{variant:"danger"},w),L&&r.a.createElement(T,{variant:"success"},"Profile Updated Successfully"),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{id:"name",type:"text",placeholder:"Enter name",value:c,onChange:function(e){return o(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{id:"email",type:"email",placeholder:"Enter email",value:m,onChange:function(e){return v(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"password"},"Change Password"),r.a.createElement("input",{id:"password",type:"password",placeholder:"Enter password",onChange:function(e){return y(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"confirmPassword"},"Confirm Change Password"),r.a.createElement("input",{id:"confirmPassword",type:"password",placeholder:"Enter confirm password",onChange:function(e){return R(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("label",null),r.a.createElement("button",{className:"profile_update_btn",type:"submit"},"Update")))))};a(81);function M(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),l=a[0],c=a[1];return r.a.createElement("div",{className:"loading"},r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.history.replace("/search/?q=".concat(l))}},r.a.createElement("input",{name:"searchKeyword",placeholder:"search product",className:"search_input_field",onChange:function(e){c(e.target.value)}}),r.a.createElement("button",{className:"submit_btn",type:"submit"},"Search")))}function V(e){var t=Object(i.c)((function(e){return e.myOrderList})),a=t.loading,l=t.error,c=t.orders,u=Object(i.b)();Object(n.useEffect)((function(){u(function(){var e=Object(E.a)(p.a.mark((function e(t,a){var n,r,l,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"MY_ORDER_LIST_REQUEST"}),n=a(),r=n.userSignin.userInfo,e.next=5,f.a.get("http://127.0.0.1:5001/api/orders/mine",{headers:{Authorization:"Bearer "+r.token}});case 5:l=e.sent,c=l.data,t({type:"MY_ORDER_LIST_SUCCESS",payload:c}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:"MY_ORDER_LIST_FAIL",payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}())}),[u]);return r.a.createElement("div",null,r.a.createElement("h1",null,"Order History"),a?r.a.createElement(U,null):l?r.a.createElement(T,{variant:"danger"},l):r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"DATE"),r.a.createElement("th",null,"TOTAL"),r.a.createElement("th",null,"PAID"),r.a.createElement("th",null,"DELIVERED"),r.a.createElement("th",null,"ACTIONS"))),r.a.createElement("tbody",null,c.map((function(t){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",null,t._id),r.a.createElement("td",null,t.createdAt.substring(0,10)),r.a.createElement("td",null,t.totalPrice.toFixed(2)),r.a.createElement("td",null,t.isPaid?t.paidAt.substring(0,10):"No"),r.a.createElement("td",null,t.isDelivered?t.deliveredAt.substring(0,10):"No"),r.a.createElement("td",null,r.a.createElement("button",{type:"button",className:"button_in_order_page",onClick:function(){e.history.push("/order/".concat(t._id))}},"Details"),r.a.createElement("button",{type:"button",onClick:function(){return function(e){o.b.success("Your order has been deleted successfully!!",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout((function(){window.location.reload()}),1e3),u(k(e._id))}(t)},className:"button_in_order_page"},"Cancel Order")))})))))}var B=function(e){var t=Object(i.c)((function(e){return e.userList})),a=t.loading,l=t.error,c=t.users,o=Object(i.b)();Object(n.useEffect)((function(){return o(function(){var e=Object(E.a)(p.a.mark((function e(t,a){var n,r,l,c,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"USER_LIST_REQUEST"}),e.prev=1,n=a(),r=n.userSignin.userInfo,e.next=5,f.a.get("http://127.0.0.1:5001/api/users",{headers:{Authorization:"Bearer ".concat(r.token)}});case 5:l=e.sent,c=l.data,t({type:"USER_LIST_SUCCESS",payload:c}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),i=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t({type:"USER_LIST_FAIL",payload:i});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}()),function(){}}),[o]);var u=function(e){var t;window.confirm("Confirm Delete User?")&&(o((t=e._id,function(){var e=Object(E.a)(p.a.mark((function e(a,n){var r,l,c,i,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"USER_LIST_REQUEST"}),e.prev=1,r=n(),l=r.userSignin.userInfo,e.next=5,f.a.delete("http://127.0.0.1:5001/api/users/".concat(t),{headers:{Authorization:"Bearer ".concat(l.token)}});case 5:c=e.sent,i=c.data,a({type:"USER_LIST_SUCCESS",payload:i}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),o=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,a({type:"USER_LIST_FAIL",payload:o});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}())),window.location.reload())};return r.a.createElement("div",null,r.a.createElement("h1",null,"Users"),a&&r.a.createElement(U,null),l&&r.a.createElement(T,{variant:"danger"},l),a?r.a.createElement(U,null):l?r.a.createElement(T,{variant:"danger"},l):r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"NAME"),r.a.createElement("th",null,"EMAIL"),r.a.createElement("th",null,"IS ADMIN"),r.a.createElement("th",null,"ACTIONS"))),r.a.createElement("tbody",null,c.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.isAdmin?"YES":"NO"),r.a.createElement("td",null,r.a.createElement("button",{type:"button",className:"button_in_order_page",onClick:function(){return u(e)}},"Delete User")))})))))};var G=function(){var e=Object(i.c)((function(e){return e.userSignin})),t=Object(i.c)((function(e){return e.cart})),a=e.userInfo,n=Object(i.b)();return r.a.createElement(u.a,null,r.a.createElement("div",{className:"grid-container"},r.a.createElement("header",{className:"row"},r.a.createElement("div",null,r.a.createElement(u.b,{to:"/"},r.a.createElement("span",{className:"first-half-logo"},"Credi"),r.a.createElement("span",{className:"second-half-logo"},"Buy"))),r.a.createElement("div",{className:"search_boc_and_other_options"},r.a.createElement("div",{className:"search_bar_in_navbar"},r.a.createElement(s.a,{render:function(e){var t=e.history;return r.a.createElement(M,{history:t})}})),r.a.createElement("div",null,r.a.createElement(u.b,{to:"/cart"},"Cart",r.a.createElement("span",{className:"numbrt_of_items_in_cart"},t.cartItems.length)),a?r.a.createElement("div",{className:"dropdown"},r.a.createElement(u.b,{to:"#"},a.name," ",r.a.createElement("i",{className:"fa fa-caret-down"})," "),r.a.createElement("ul",{className:"dropdown-content"},r.a.createElement("li",null,r.a.createElement(u.b,{to:"/profile"},"User Profile")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/orderhistory"},"Order History")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"#signout",onClick:function(e){e.preventDefault(),n(N())}},"Sign Out")))):r.a.createElement(u.b,{to:"/signin"},"Sign In"),a&&a.isAdmin&&r.a.createElement("div",{className:"dropdown"},r.a.createElement(u.b,{to:"#admin"},"Admin Functions ",r.a.createElement("i",{className:"fa fa-caret-down"})),r.a.createElement("ul",{className:"dropdown-content"},r.a.createElement("li",null,r.a.createElement(u.b,{to:"/products"},"Products")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/orders"},"Orders")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/userlist"},"Users"))))))),r.a.createElement("aside",{className:"sidebar"},r.a.createElement("h3",null,"Shopping Categories"),r.a.createElement("button",{className:"sidebar-close-button",onClick:function(){document.querySelector(".sidebar").classList.remove("open")}},"x")),r.a.createElement("main",{className:"main"},r.a.createElement("div",{className:"content"},r.a.createElement(s.a,{path:"/products",component:j}),r.a.createElement(s.a,{path:"/shipping",component:w}),r.a.createElement(s.a,{path:"/payment",component:P}),r.a.createElement(s.a,{path:"/placeorder",component:x}),r.a.createElement(s.a,{path:"/orderhistory",component:V}),r.a.createElement(s.a,{path:"/search/",component:h}),r.a.createElement(s.a,{path:"/signin",component:D}),r.a.createElement(s.a,{path:"/register",component:A}),r.a.createElement(s.a,{path:"/order/:id",component:F}),r.a.createElement(s.a,{path:"/userlist",component:B}),r.a.createElement(s.a,{path:"/orders",component:q}),r.a.createElement(s.a,{path:"/product/:id",component:S}),r.a.createElement(s.a,{path:"/cart/:id?",component:R}),r.a.createElement(s.a,{path:"/category/:id",component:h}),r.a.createElement(s.a,{path:"/profile",component:Q}),r.a.createElement(s.a,{path:"/",exact:!0,component:h}))),r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"text_in_footer"},"All rights are reserved by CrediBuy."))))},Y=a(15),$=a(40);var z=a(22);var H={cart:{cartItems:I.a.getJSON("cartItems")||[],shipping:{},payment:{}},userSignin:{userInfo:I.a.getJSON("userInfo")||null}},J=Object(Y.c)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_LIST_REQUEST":return{loading:!0,products:[]};case"PRODUCT_LIST_SUCCESS":return{loading:!1,products:t.payload,data:t.List};case"PRODUCT_LIST_FAIL":return{loading:!1,error:t.payload};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_DETAILS_REQUEST":return{loading:!0};case"PRODUCT_DETAILS_SUCCESS":return{loading:!1,product:t.payload};case"PRODUCT_DETAILS_FAIL":return{loading:!1,error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shipping:{},payment:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CART_ADD_ITEM":var a=t.payload,n=e.cartItems.find((function(e){return e.product===a.product}));return n?{cartItems:e.cartItems.map((function(e){return e.product===n.product?a:e}))}:{cartItems:[].concat(Object(g.a)(e.cartItems),[a])};case"CART_REMOVE_ITEM":return{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))};case"CART_SAVE_SHIPPING":return Object(z.a)(Object(z.a)({},e),{},{shipping:t.payload});case"CART_SAVE_PAYMENT":return Object(z.a)(Object(z.a)({},e),{},{payment:t.payload});default:return e}},userSignin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_SIGNIN_REQUEST":return{loading:!0};case"USER_SIGNIN_SUCCESS":return{loading:!1,userInfo:t.payload};case"USER_SIGNIN_FAIL":return{loading:!1,error:t.payload};case"USER_LOGOUT":return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_REGISTER_REQUEST":return{loading:!0};case"USER_REGISTER_SUCCESS":return{loading:!1,userInfo:t.payload};case"USER_REGISTER_FAIL":return{loading:!1,error:t.payload};default:return e}},productSave:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_SAVE_REQUEST":return{loading:!0};case"PRODUCT_SAVE_SUCCESS":return{loading:!1,product:t.payload,success:!0};case"PRODUCT_SAVE_FAIL":return{loading:!1,error:t.payload};default:return e}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_DELETE_REQUEST":return{loading:!0};case"PRODUCT_DELETE_SUCCESS":return{loading:!1,product:t.payload,success:!0};case"PRODUCT_DELETE_FAIL":return{loading:!1,error:t.payload};default:return e}},productReviewSave:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_REVIEW_SAVE_REQUEST":return{loading:!0};case"PRODUCT_REVIEW_SAVE_SUCCESS":return{loading:!1,review:t.payload,success:!0};case"PRODUCT_REVIEW_SAVE_FAIL":return{loading:!1,errror:t.payload};case"PRODUCT_REVIEW_SAVE_RESET":return{};default:return e}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_CREATE_REQUEST":return{loading:!0};case"ORDER_CREATE_SUCCESS":return{loading:!1,order:t.payload,success:!0};case"ORDER_CREATE_FAIL":return{loading:!1,error:t.payload};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{orderItems:[],shipping:{},payment:{}}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_DETAILS_REQUEST":return{loading:!0};case"ORDER_DETAILS_SUCCESS":return{loading:!1,order:t.payload};case"ORDER_DETAILS_FAIL":return{loading:!1,error:t.payload};default:return e}},orderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_LIST_REQUEST":return{loading:!0};case"ORDER_LIST_SUCCESS":return{loading:!1,orders:t.payload};case"ORDER_LIST_FAIL":return{loading:!1,error:t.payload};default:return e}},orderDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{orderItems:[],shipping:{},payment:{}}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_DELETE_REQUEST":return{loading:!0};case"ORDER_DELETE_SUCCESS":return{loading:!1,success:!0};case"ORDER_DELETE_FAIL":return{loading:!1,error:t.payload};default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{orderItems:[],shipping:{},payment:{}}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_PAY_REQUEST":return{loading:!0};case"ORDER_PAY_SUCCESS":return{loading:!1,success:!0};case"ORDER_PAY_FAIL":return{loading:!1,error:t.payload};default:return e}},myOrderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MY_ORDER_LIST_REQUEST":return{loading:!0};case"MY_ORDER_LIST_SUCCESS":return{loading:!1,orders:t.payload};case"MY_ORDER_LIST_REQUEST":return{loading:!1,error:t.payload};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_UPDATE_PROFILE_REQUEST":return{loading:!0};case"USER_UPDATE_PROFILE_SUCCESS":return{loading:!1,success:!0};case"USER_UPDATE_PROFILE_FAIL":return{loading:!1,error:t.payload};case"USER_UPDATE_PROFILE_RESET":return{};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LIST_REQUEST":return{loading:!0};case"USER_LIST_SUCCESS":return{loading:!1,users:t.payload};case"USER_LIST_FAIL":return{loading:!1,error:t.payload};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_DETAILS_REQUEST":return{loading:!0};case"USER_DETAILS_SUCCESS":return{loading:!1,user:t.payload};case"USER_DETAILS_FAIL":return{loading:!1,error:t.payload};case"USER_DETAILS_RESET":return{loading:!0};default:return e}}}),W=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Y.d,K=Object(Y.e)(J,H,W(Object(Y.a)($.a)));c.a.render(r.a.createElement(i.a,{store:K},r.a.createElement(G,null),r.a.createElement(o.a,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.b2143cb2.chunk.js.map